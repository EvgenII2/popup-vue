(function(){"use strict";var n={4322:function(n,e,o){var t=o(9242),i=o(3396);function a(n,e,o,t,a,r){const s=(0,i.up)("MainContainer");return(0,i.wg)(),(0,i.j4)(s)}const r={class:"main"};function s(n,e,o,t,a,s){const l=(0,i.up)("image-container"),c=(0,i.up)("popup-container"),u=(0,i.up)("loader-container");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("button",{class:"button-load",onClick:e[0]||(e[0]=(...n)=>s.loadImage&&s.loadImage(...n))},"Загрузить картинки"),(0,i.Wm)(l,{images:a.images,onOnImageClick:s.setCurrentImage},null,8,["images","onOnImageClick"]),(0,i.Wm)(c,{image:a.currentImage,onClosePopup:s.setCurrentImage},null,8,["image","onClosePopup"]),(0,i.Wm)(u,{isLoading:a.isLoading},null,8,["isLoading"])])}const l={class:"images-container"};function c(n,e,o,t,a,r){const s=(0,i.up)("image-item");return(0,i.wg)(),(0,i.iD)("div",l,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.images,((n,e)=>((0,i.wg)(),(0,i.j4)(s,{key:+n.id+e,image:n,onOnClick:r.onImageClick},null,8,["image","onOnClick"])))),128))])}const u=["href"],p=["src"];function g(n,e,o,t,a,r){return(0,i.wg)(),(0,i.iD)("a",{href:o.image.url,key:o.image.id,class:"image-card__link",onClick:e[0]||(e[0]=(...n)=>r.onClick&&r.onClick(...n))},[(0,i._)("img",{class:"image-card__image",src:r.getCropImage(o.image.download_url,5),alt:"{{image.author}}"},null,8,p)],8,u)}var m={name:"ImageItem",props:["image"],emits:["onClick"],methods:{getCropImage(n,e=2){const[o,t,i,a,r]=n.split("/").splice(2),s=Math.floor(+a/e),l=Math.floor(+r/e);return`https://${o}/${t}/${i}/${s}/${l}`},onClick(n){n.preventDefault(),this.$emit("onClick",this.image)}}},d=o(89);const f=(0,d.Z)(m,[["render",g],["__scopeId","data-v-5e9fc2ae"]]);var h=f,_={name:"ImagesList",props:["images"],components:{ImageItem:h},emits:["onImageClick"],methods:{onImageClick(n){console.log(n),this.$emit("onImageClick",n)}}};const v=(0,d.Z)(_,[["render",c],["__scopeId","data-v-cd2fbe30"]]);var C=v;const k=n=>((0,i.dD)("data-v-a63a3824"),n=n(),(0,i.Cn)(),n),I={className:"loader"},w=k((()=>(0,i._)("div",null,null,-1))),b=k((()=>(0,i._)("div",null,null,-1))),O=k((()=>(0,i._)("div",null,null,-1))),y=k((()=>(0,i._)("div",null,null,-1))),P=k((()=>(0,i._)("div",null,null,-1))),$=k((()=>(0,i._)("div",null,null,-1))),j=k((()=>(0,i._)("div",null,null,-1))),L=k((()=>(0,i._)("div",null,null,-1))),A=[w,b,O,y,P,$,j,L];function D(n,e,o,a,r,s){return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",I,A,512)),[[t.F8,o.isLoading]])}var Z={name:"LoaderContainer",props:{isLoading:Boolean}};const M=(0,d.Z)(Z,[["render",D],["__scopeId","data-v-a63a3824"]]);var x=M,T=o(7139);const H={key:0,class:"popup"},R={class:"popup__content"},W={class:"popup__image-container"},E=["src","alt"],F={class:"popup__caption"},q=(0,i.Uk)(" Автор: "),z={class:"popup__author"},B=["href"];function G(n,e,o,t,a,r){return o.image?((0,i.wg)(),(0,i.iD)("div",H,[(0,i._)("button",{class:"popup__button-close",onClick:e[0]||(e[0]=e=>n.$emit("closePopup",null))}," × "),(0,i._)("div",R,[(0,i._)("figure",W,[(0,i._)("img",{class:"popup__image",src:o.image.download_url,alt:o.image.author},null,8,E),(0,i._)("figcaption",F,[q,(0,i._)("address",z,(0,T.zw)(o.image.author),1)])]),(0,i._)("a",{class:"popup__link popup__link_open",href:o.image.url,rel:"noreferrer",target:"_blank"}," Открыть в полном размере ",8,B)])])):(0,i.kq)("",!0)}var K={name:"PopuContainer",props:["image"],emits:["closePopup"]};const N=(0,d.Z)(K,[["render",G],["__scopeId","data-v-e07e28bc"]]);var U=N,Y=o(2482);class J{constructor(){(0,Y.Z)(this,"getPictures",((n=1,e=10)=>fetch(`https://picsum.photos/v2/list?page=${n};limit=${e}`,{headers:new Headers({"Access-Control-Allow-Credentials":!0,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET","Access-Control-Allow-Headers":"application/json","Content-Type":"text/html"})}).then((n=>this._checkResponse(n))))),(0,Y.Z)(this,"getPictureInfo",((n=0)=>fetch(`https://picsum.photos/id/${n}/info`).then((n=>this._checkResponse(n)))))}_checkResponse(n){return n.ok?n.json():Promise.reject(`Ошибка: ${n.status}`)}}const Q=new J;var S={name:"MainContainer",data(){return{images:[],page:1,currentImage:null,isLoading:!1}},methods:{loadImage(){this.isLoading=!0,Q.getPictures(this.page).then((n=>{this.images=this.images.concat(n),this.page+=1,this.isLoading=!1}))},setCurrentImage(n){console.log(n),this.currentImage=n}},mounted:function(){this.loadImage()},components:{ImageContainer:C,PopupContainer:U,LoaderContainer:x}};const V=(0,d.Z)(S,[["render",s],["__scopeId","data-v-eee002da"]]);var X=V,nn={name:"App",components:{MainContainer:X}};const en=(0,d.Z)(nn,[["render",a]]);var on=en;(0,t.ri)(on).mount("#app")}},e={};function o(t){var i=e[t];if(void 0!==i)return i.exports;var a=e[t]={exports:{}};return n[t](a,a.exports,o),a.exports}o.m=n,function(){var n=[];o.O=function(e,t,i,a){if(!t){var r=1/0;for(u=0;u<n.length;u++){t=n[u][0],i=n[u][1],a=n[u][2];for(var s=!0,l=0;l<t.length;l++)(!1&a||r>=a)&&Object.keys(o.O).every((function(n){return o.O[n](t[l])}))?t.splice(l--,1):(s=!1,a<r&&(r=a));if(s){n.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=n.length;u>0&&n[u-1][2]>a;u--)n[u]=n[u-1];n[u]=[t,i,a]}}(),function(){o.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return o.d(e,{a:e}),e}}(),function(){o.d=function(n,e){for(var t in e)o.o(e,t)&&!o.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){o.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}}(),function(){var n={143:0};o.O.j=function(e){return 0===n[e]};var e=function(e,t){var i,a,r=t[0],s=t[1],l=t[2],c=0;if(r.some((function(e){return 0!==n[e]}))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(l)var u=l(o)}for(e&&e(t);c<r.length;c++)a=r[c],o.o(n,a)&&n[a]&&n[a][0](),n[a]=0;return o.O(u)},t=self["webpackChunkpopup_vue"]=self["webpackChunkpopup_vue"]||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))}();var t=o.O(void 0,[998],(function(){return o(4322)}));t=o.O(t)})();
//# sourceMappingURL=app.a490b270.js.map